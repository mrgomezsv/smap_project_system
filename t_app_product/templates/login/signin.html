<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>SMAP Application - Login</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon/favicon.ico' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicon/favicon.ico' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicon/favicon-16x16.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'img/favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="256x256" href="{% static 'img/favicon/favicon-256x256.png' %}">
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'img/favicon/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'img/favicon/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'img/favicon/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/favicon/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'img/favicon/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'img/favicon/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'img/favicon/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'img/favicon/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/favicon/apple-icon-180x180.png' %}">
    <link rel="manifest" href="{% static 'img/favicon/manifest.json' %}">
    
    <link rel="stylesheet" href="{% static 'css/singin.css' %}">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            background-image: url("{% static 'images/background.png' %}"); /* Imagen de fondo */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .form-side {
            background: #f3f1ff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
            box-sizing: border-box;
            transform: translateX(-175px); /* Desplaza el formulario 100px hacia la izquierda */
        }
        .my-form {
            display: flex;
            flex-direction: column;
        }
        .text-field {
            margin-bottom: 15px;
        }
        .text-field input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .my-form__button {
            padding: 10px;
            border: none;
            border-radius: 5px;
            background: #007BFF;
            color: white;
            cursor: pointer;
            margin-top: 10px;
        }
        .my-form__button:hover {
            background: #0056b3;
        }
        .welcome-message {
            margin-top: 20px;
        }
        .centered-content {
            text-align: center;
        }
        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            border: 1px solid #f5c6cb;
        }
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            border: 1px solid #c3e6cb;
        }
        @media (max-width: 768px) {
            .form-side {
                transform: translateX(0);  /* El formulario se centra al quitar el desplazamiento en móviles */
            }
        }
    </style>
</head>
<body>
<div class="form-wrapper">
    <div class="form-side">
        <form action="{% url 'signin' %}" method="POST" class="my-form" id="signin-form">
            {% csrf_token %}
            <div class="login-welcome-row">
                <h1>Accede a tu cuenta en <br>SMAP</h1>
            </div>
            
            <!-- Mostrar mensajes de error -->
            {% if error %}
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i> {{ error }}
                </div>
            {% endif %}
            
            <!-- Mostrar mensajes de éxito -->
            {% if success %}
                <div class="success-message">
                    <i class="fas fa-check-circle"></i> {{ success }}
                </div>
            {% endif %}
            
            <div class="divider">
                <span class="divider-line"></span>
                X
                <span class="divider-line"></span>
            </div>
            <div class="text-field">
                <label for="username">Usuario:
                    <input type="text" id="username" name="username" autocomplete="off" placeholder="Tu nombre de usuario"
                           required>
                </label>
            </div>
            <div class="text-field">
                <label for="password">Contraseña:
                    <input id="password" type="password" name="password" placeholder="Tu contraseña"
                           required>
                </label>
            </div>
            <button class="my-form__button" type="submit">Iniciar Sesión</button>
            
            <!-- Enlace para cambiar contraseña -->
            <div class="text-center" style="margin-top: 15px;">
                <a href="{% url 'change_password' %}" style="color: #007BFF; text-decoration: none; font-size: 14px;">
                    ¿Olvidaste tu contraseña? Cambiarla aquí
                </a>
            </div>
            
            <div class="welcome-message">
                <div class="my-form__actions">
                    <div class="my-form__row centered-content">
                        <div>
                            Volver a <a href="{% url 'home' %}" title="Volver al inicio">Kidsfun y Fiestas Infantiles</a>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="{% static 'js/script.js' %}"></script>
</body>
</html>
